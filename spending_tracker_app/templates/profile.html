{% extends 'base.html' %}
{% load static %}
{% block title %}Profile - Spending Tracker{% endblock %}
{% block content %}
<h1>Profile</h1>
<p>Total Earned: {{ total_earned }} {{ display_currency }}</p>
<p>Total Spent: {{ total_spent }} {{ display_currency }}</p>
<p>AI Recommendation: {{ ai_recommendation }}</p>

<h2>Settings</h2>
<div class="login-container">
    <!-- Change Password -->
    <h3>Change Password</h3>
    <form method="post" action="{% url 'spending_tracker_app:change_password' %}">
        {% csrf_token %}
        <label for="old_password">Old Password:</label>
        <input type="password" name="old_password" id="old_password" required>
        <label for="new_password">New Password:</label>
        <input type="password" name="new_password" id="new_password" required>
        <button type="submit">Change Password</button>
        {% if error %}<p style="color: #ff6666;">{{ error }}</p>{% endif %}
    </form>

    <!-- Clear Records -->
    <h3>Clear All Records</h3>
    <button onclick="confirmClearRecords()">Clear All Records</button>

    <!-- Change Preferred Currency -->
    <h3>Change Preferred Currency</h3>
    <form method="post" action="{% url 'spending_tracker_app:update_currency' %}">
        {% csrf_token %}
        <label for="preferred_currency">Preferred Currency:</label>
        <select name="preferred_currency" id="preferred_currency" required class="custom-select">
    <option value="" disabled selected>Select Currency</option>
    <option value="AED" {% if request.session.preferred_currency == 'AED' %}selected{% endif %}>United Arab Emirates Dirham (AED)</option>
    <option value="AFN" {% if request.session.preferred_currency == 'AFN' %}selected{% endif %}>Afghan Afghani (AFN)</option>
    <option value="ALL" {% if request.session.preferred_currency == 'ALL' %}selected{% endif %}>Albanian Lek (ALL)</option>
    <option value="AMD" {% if request.session.preferred_currency == 'AMD' %}selected{% endif %}>Armenian Dram (AMD)</option>
    <option value="ANG" {% if request.session.preferred_currency == 'ANG' %}selected{% endif %}>Netherlands Antillean Guilder (ANG)</option>
    <option value="AOA" {% if request.session.preferred_currency == 'AOA' %}selected{% endif %}>Angolan Kwanza (AOA)</option>
    <option value="ARS" {% if request.session.preferred_currency == 'ARS' %}selected{% endif %}>Argentine Peso (ARS)</option>
    <option value="AUD" {% if request.session.preferred_currency == 'AUD' %}selected{% endif %}>Australian Dollar (AUD)</option>
    <option value="AWG" {% if request.session.preferred_currency == 'AWG' %}selected{% endif %}>Aruban Florin (AWG)</option>
    <option value="AZN" {% if request.session.preferred_currency == 'AZN' %}selected{% endif %}>Azerbaijani Manat (AZN)</option>
    <option value="BAM" {% if request.session.preferred_currency == 'BAM' %}selected{% endif %}>Bosnia-Herzegovina Convertible Mark (BAM)</option>
    <option value="BBD" {% if request.session.preferred_currency == 'BBD' %}selected{% endif %}>Barbadian Dollar (BBD)</option>
    <option value="BDT" {% if request.session.preferred_currency == 'BDT' %}selected{% endif %}>Bangladeshi Taka (BDT)</option>
    <option value="BGN" {% if request.session.preferred_currency == 'BGN' %}selected{% endif %}>Bulgarian Lev (BGN)</option>
    <option value="BHD" {% if request.session.preferred_currency == 'BHD' %}selected{% endif %}>Bahraini Dinar (BHD)</option>
    <option value="BIF" {% if request.session.preferred_currency == 'BIF' %}selected{% endif %}>Burundian Franc (BIF)</option>
    <option value="BMD" {% if request.session.preferred_currency == 'BMD' %}selected{% endif %}>Bermudan Dollar (BMD)</option>
    <option value="BND" {% if request.session.preferred_currency == 'BND' %}selected{% endif %}>Brunei Dollar (BND)</option>
    <option value="BOB" {% if request.session.preferred_currency == 'BOB' %}selected{% endif %}>Bolivian Boliviano (BOB)</option>
    <option value="BRL" {% if request.session.preferred_currency == 'BRL' %}selected{% endif %}>Brazilian Real (BRL)</option>
    <option value="BSD" {% if request.session.preferred_currency == 'BSD' %}selected{% endif %}>Bahamian Dollar (BSD)</option>
    <option value="BTC" {% if request.session.preferred_currency == 'BTC' %}selected{% endif %}>Bitcoin (BTC)</option>
    <option value="BTN" {% if request.session.preferred_currency == 'BTN' %}selected{% endif %}>Bhutanese Ngultrum (BTN)</option>
    <option value="BWP" {% if request.session.preferred_currency == 'BWP' %}selected{% endif %}>Botswanan Pula (BWP)</option>
    <option value="BYR" {% if request.session.preferred_currency == 'BYR' %}selected{% endif %}>Belarusian Ruble (BYR)</option>
    <option value="BZD" {% if request.session.preferred_currency == 'BZD' %}selected{% endif %}>Belize Dollar (BZD)</option>
    <option value="CAD" {% if request.session.preferred_currency == 'CAD' %}selected{% endif %}>Canadian Dollar (CAD)</option>
    <option value="CDF" {% if request.session.preferred_currency == 'CDF' %}selected{% endif %}>Congolese Franc (CDF)</option>
    <option value="CHF" {% if request.session.preferred_currency == 'CHF' %}selected{% endif %}>Swiss Franc (CHF)</option>
    <option value="CLF" {% if request.session.preferred_currency == 'CLF' %}selected{% endif %}>Chilean Unit of Account (CLF)</option>
    <option value="CLP" {% if request.session.preferred_currency == 'CLP' %}selected{% endif %}>Chilean Peso (CLP)</option>
    <option value="CNY" {% if request.session.preferred_currency == 'CNY' %}selected{% endif %}>Chinese Yuan (CNY)</option>
    <option value="COP" {% if request.session.preferred_currency == 'COP' %}selected{% endif %}>Colombian Peso (COP)</option>
    <option value="CRC" {% if request.session.preferred_currency == 'CRC' %}selected{% endif %}>Costa Rican Colón (CRC)</option>
    <option value="CUC" {% if request.session.preferred_currency == 'CUC' %}selected{% endif %}>Cuban Convertible Peso (CUC)</option>
    <option value="CUP" {% if request.session.preferred_currency == 'CUP' %}selected{% endif %}>Cuban Peso (CUP)</option>
    <option value="CVE" {% if request.session.preferred_currency == 'CVE' %}selected{% endif %}>Cape Verdean Escudo (CVE)</option>
    <option value="CZK" {% if request.session.preferred_currency == 'CZK' %}selected{% endif %}>Czech Koruna (CZK)</option>
    <option value="DJF" {% if request.session.preferred_currency == 'DJF' %}selected{% endif %}>Djiboutian Franc (DJF)</option>
    <option value="DKK" {% if request.session.preferred_currency == 'DKK' %}selected{% endif %}>Danish Krone (DKK)</option>
    <option value="DOP" {% if request.session.preferred_currency == 'DOP' %}selected{% endif %}>Dominican Peso (DOP)</option>
    <option value="DZD" {% if request.session.preferred_currency == 'DZD' %}selected{% endif %}>Algerian Dinar (DZD)</option>
    <option value="EGP" {% if request.session.preferred_currency == 'EGP' %}selected{% endif %}>Egyptian Pound (EGP)</option>
    <option value="ERN" {% if request.session.preferred_currency == 'ERN' %}selected{% endif %}>Eritrean Nakfa (ERN)</option>
    <option value="ETB" {% if request.session.preferred_currency == 'ETB' %}selected{% endif %}>Ethiopian Birr (ETB)</option>
    <option value="EUR" {% if request.session.preferred_currency == 'EUR' %}selected{% endif %}>Euro (EUR)</option>
    <option value="FJD" {% if request.session.preferred_currency == 'FJD' %}selected{% endif %}>Fijian Dollar (FJD)</option>
    <option value="FKP" {% if request.session.preferred_currency == 'FKP' %}selected{% endif %}>Falkland Islands Pound (FKP)</option>
    <option value="GBP" {% if request.session.preferred_currency == 'GBP' %}selected{% endif %}>British Pound (GBP)</option>
    <option value="GEL" {% if request.session.preferred_currency == 'GEL' %}selected{% endif %}>Georgian Lari (GEL)</option>
    <option value="GGP" {% if request.session.preferred_currency == 'GGP' %}selected{% endif %}>Guernsey Pound (GGP)</option>
    <option value="GHS" {% if request.session.preferred_currency == 'GHS' %}selected{% endif %}>Ghanaian Cedi (GHS)</option>
    <option value="GIP" {% if request.session.preferred_currency == 'GIP' %}selected{% endif %}>Gibraltar Pound (GIP)</option>
    <option value="GMD" {% if request.session.preferred_currency == 'GMD' %}selected{% endif %}>Gambian Dalasi (GMD)</option>
    <option value="GNF" {% if request.session.preferred_currency == 'GNF' %}selected{% endif %}>Guinean Franc (GNF)</option>
    <option value="GTQ" {% if request.session.preferred_currency == 'GTQ' %}selected{% endif %}>Guatemalan Quetzal (GTQ)</option>
    <option value="GYD" {% if request.session.preferred_currency == 'GYD' %}selected{% endif %}>Guyanaese Dollar (GYD)</option>
    <option value="HKD" {% if request.session.preferred_currency == 'HKD' %}selected{% endif %}>Hong Kong Dollar (HKD)</option>
    <option value="HNL" {% if request.session.preferred_currency == 'HNL' %}selected{% endif %}>Honduran Lempira (HNL)</option>
    <option value="HRK" {% if request.session.preferred_currency == 'HRK' %}selected{% endif %}>Croatian Kuna (HRK)</option>
    <option value="HTG" {% if request.session.preferred_currency == 'HTG' %}selected{% endif %}>Haitian Gourde (HTG)</option>
    <option value="HUF" {% if request.session.preferred_currency == 'HUF' %}selected{% endif %}>Hungarian Forint (HUF)</option>
    <option value="IDR" {% if request.session.preferred_currency == 'IDR' %}selected{% endif %}>Indonesian Rupiah (IDR)</option>
    <option value="ILS" {% if request.session.preferred_currency == 'ILS' %}selected{% endif %}>Israeli New Shekel (ILS)</option>
    <option value="IMP" {% if request.session.preferred_currency == 'IMP' %}selected{% endif %}>Manx Pound (IMP)</option>
    <option value="INR" {% if request.session.preferred_currency == 'INR' %}selected{% endif %}>Indian Rupee (INR)</option>
    <option value="IQD" {% if request.session.preferred_currency == 'IQD' %}selected{% endif %}>Iraqi Dinar (IQD)</option>
    <option value="IRR" {% if request.session.preferred_currency == 'IRR' %}selected{% endif %}>Iranian Rial (IRR)</option>
    <option value="ISK" {% if request.session.preferred_currency == 'ISK' %}selected{% endif %}>Icelandic Króna (ISK)</option>
    <option value="JEP" {% if request.session.preferred_currency == 'JEP' %}selected{% endif %}>Jersey Pound (JEP)</option>
    <option value="JMD" {% if request.session.preferred_currency == 'JMD' %}selected{% endif %}>Jamaican Dollar (JMD)</option>
    <option value="JOD" {% if request.session.preferred_currency == 'JOD' %}selected{% endif %}>Jordanian Dinar (JOD)</option>
    <option value="JPY" {% if request.session.preferred_currency == 'JPY' %}selected{% endif %}>Japanese Yen (JPY)</option>
    <option value="KES" {% if request.session.preferred_currency == 'KES' %}selected{% endif %}>Kenyan Shilling (KES)</option>
    <option value="KGS" {% if request.session.preferred_currency == 'KGS' %}selected{% endif %}>Kyrgystani Som (KGS)</option>
    <option value="KHR" {% if request.session.preferred_currency == 'KHR' %}selected{% endif %}>Cambodian Riel (KHR)</option>
    <option value="KMF" {% if request.session.preferred_currency == 'KMF' %}selected{% endif %}>Comorian Franc (KMF)</option>
    <option value="KPW" {% if request.session.preferred_currency == 'KPW' %}selected{% endif %}>North Korean Won (KPW)</option>
    <option value="KRW" {% if request.session.preferred_currency == 'KRW' %}selected{% endif %}>South Korean Won (KRW)</option>
    <option value="KWD" {% if request.session.preferred_currency == 'KWD' %}selected{% endif %}>Kuwaiti Dinar (KWD)</option>
    <option value="KYD" {% if request.session.preferred_currency == 'KYD' %}selected{% endif %}>Cayman Islands Dollar (KYD)</option>
    <option value="KZT" {% if request.session.preferred_currency == 'KZT' %}selected{% endif %}>Kazakhstani Tenge (KZT)</option>
    <option value="LAK" {% if request.session.preferred_currency == 'LAK' %}selected{% endif %}>Laotian Kip (LAK)</option>
    <option value="LBP" {% if request.session.preferred_currency == 'LBP' %}selected{% endif %}>Lebanese Pound (LBP)</option>
    <option value="LKR" {% if request.session.preferred_currency == 'LKR' %}selected{% endif %}>Sri Lankan Rupee (LKR)</option>
    <option value="LRD" {% if request.session.preferred_currency == 'LRD' %}selected{% endif %}>Liberian Dollar (LRD)</option>
    <option value="LSL" {% if request.session.preferred_currency == 'LSL' %}selected{% endif %}>Lesotho Loti (LSL)</option>
    <option value="LTL" {% if request.session.preferred_currency == 'LTL' %}selected{% endif %}>Lithuanian Litas (LTL)</option>
    <option value="LVL" {% if request.session.preferred_currency == 'LVL' %}selected{% endif %}>Latvian Lats (LVL)</option>
    <option value="LYD" {% if request.session.preferred_currency == 'LYD' %}selected{% endif %}>Libyan Dinar (LYD)</option>
    <option value="MAD" {% if request.session.preferred_currency == 'MAD' %}selected{% endif %}>Moroccan Dirham (MAD)</option>
    <option value="MDL" {% if request.session.preferred_currency == 'MDL' %}selected{% endif %}>Moldovan Leu (MDL)</option>
    <option value="MGA" {% if request.session.preferred_currency == 'MGA' %}selected{% endif %}>Malagasy Ariary (MGA)</option>
    <option value="MKD" {% if request.session.preferred_currency == 'MKD' %}selected{% endif %}>Macedonian Denar (MKD)</option>
    <option value="MMK" {% if request.session.preferred_currency == 'MMK' %}selected{% endif %}>Myanma Kyat (MMK)</option>
    <option value="MNT" {% if request.session.preferred_currency == 'MNT' %}selected{% endif %}>Mongolian Tugrik (MNT)</option>
    <option value="MOP" {% if request.session.preferred_currency == 'MOP' %}selected{% endif %}>Macanese Pataca (MOP)</option>
    <option value="MRO" {% if request.session.preferred_currency == 'MRO' %}selected{% endif %}>Mauritanian Ouguiya (MRO)</option>
    <option value="MUR" {% if request.session.preferred_currency == 'MUR' %}selected{% endif %}>Mauritian Rupee (MUR)</option>
    <option value="MVR" {% if request.session.preferred_currency == 'MVR' %}selected{% endif %}>Maldivian Rufiyaa (MVR)</option>
    <option value="MWK" {% if request.session.preferred_currency == 'MWK' %}selected{% endif %}>Malawian Kwacha (MWK)</option>
    <option value="MXN" {% if request.session.preferred_currency == 'MXN' %}selected{% endif %}>Mexican Peso (MXN)</option>
    <option value="MYR" {% if request.session.preferred_currency == 'MYR' %}selected{% endif %}>Malaysian Ringgit (MYR)</option>
    <option value="MZN" {% if request.session.preferred_currency == 'MZN' %}selected{% endif %}>Mozambican Metical (MZN)</option>
    <option value="NAD" {% if request.session.preferred_currency == 'NAD' %}selected{% endif %}>Namibian Dollar (NAD)</option>
    <option value="NGN" {% if request.session.preferred_currency == 'NGN' %}selected{% endif %}>Nigerian Naira (NGN)</option>
    <option value="NIO" {% if request.session.preferred_currency == 'NIO' %}selected{% endif %}>Nicaraguan Córdoba (NIO)</option>
    <option value="NOK" {% if request.session.preferred_currency == 'NOK' %}selected{% endif %}>Norwegian Krone (NOK)</option>
    <option value="NPR" {% if request.session.preferred_currency == 'NPR' %}selected{% endif %}>Nepalese Rupee (NPR)</option>
    <option value="NZD" {% if request.session.preferred_currency == 'NZD' %}selected{% endif %}>New Zealand Dollar (NZD)</option>
    <option value="OMR" {% if request.session.preferred_currency == 'OMR' %}selected{% endif %}>Omani Rial (OMR)</option>
    <option value="PAB" {% if request.session.preferred_currency == 'PAB' %}selected{% endif %}>Panamanian Balboa (PAB)</option>
    <option value="PEN" {% if request.session.preferred_currency == 'PEN' %}selected{% endif %}>Peruvian Nuevo Sol (PEN)</option>
    <option value="PGK" {% if request.session.preferred_currency == 'PGK' %}selected{% endif %}>Papua New Guinean Kina (PGK)</option>
    <option value="PHP" {% if request.session.preferred_currency == 'PHP' %}selected{% endif %}>Philippine Peso (PHP)</option>
    <option value="PKR" {% if request.session.preferred_currency == 'PKR' %}selected{% endif %}>Pakistani Rupee (PKR)</option>
    <option value="PLN" {% if request.session.preferred_currency == 'PLN' %}selected{% endif %}>Polish Zloty (PLN)</option>
    <option value="PYG" {% if request.session.preferred_currency == 'PYG' %}selected{% endif %}>Paraguayan Guarani (PYG)</option>
    <option value="RON" {% if request.session.preferred_currency == 'RON' %}selected{% endif %}>Romanian Leu (RON)</option>
    <option value="RSD" {% if request.session.preferred_currency == 'RSD' %}selected{% endif %}>Serbian Dinar (RSD)</option>
    <option value="RUB" {% if request.session.preferred_currency == 'RUB' %}selected{% endif %}>Russian Ruble (RUB)</option>
    <option value="RWF" {% if request.session.preferred_currency == 'RWF' %}selected{% endif %}>Rwandan Franc (RWF)</option>
    <option value="SAR" {% if request.session.preferred_currency == 'SAR' %}selected{% endif %}>Saudi Riyal (SAR)</option>
    <option value="SBD" {% if request.session.preferred_currency == 'SBD' %}selected{% endif %}>Solomon Islands Dollar (SBD)</option>
    <option value="SCR" {% if request.session.preferred_currency == 'SCR' %}selected{% endif %}>Seychellois Rupee (SCR)</option>
    <option value="SDG" {% if request.session.preferred_currency == 'SDG' %}selected{% endif %}>Sudanese Pound (SDG)</option>
    <option value="SEK" {% if request.session.preferred_currency == 'SEK' %}selected{% endif %}>Swedish Krona (SEK)</option>
    <option value="SGD" {% if request.session.preferred_currency == 'SGD' %}selected{% endif %}>Singapore Dollar (SGD)</option>
    <option value="SHP" {% if request.session.preferred_currency == 'SHP' %}selected{% endif %}>Saint Helena Pound (SHP)</option>
    <option value="SLL" {% if request.session.preferred_currency == 'SLL' %}selected{% endif %}>Sierra Leonean Leone (SLL)</option>
    <option value="SOS" {% if request.session.preferred_currency == 'SOS' %}selected{% endif %}>Somali Shilling (SOS)</option>
    <option value="SRD" {% if request.session.preferred_currency == 'SRD' %}selected{% endif %}>Surinamese Dollar (SRD)</option>
    <option value="STD" {% if request.session.preferred_currency == 'STD' %}selected{% endif %}>São Tomé and Príncipe Dobra (STD)</option>
    <option value="SVC" {% if request.session.preferred_currency == 'SVC' %}selected{% endif %}>Salvadoran Colón (SVC)</option>
    <option value="SYP" {% if request.session.preferred_currency == 'SYP' %}selected{% endif %}>Syrian Pound (SYP)</option>
    <option value="SZL" {% if request.session.preferred_currency == 'SZL' %}selected{% endif %}>Swazi Lilangeni (SZL)</option>
    <option value="THB" {% if request.session.preferred_currency == 'THB' %}selected{% endif %}>Thai Baht (THB)</option>
    <option value="TJS" {% if request.session.preferred_currency == 'TJS' %}selected{% endif %}>Tajikistani Somoni (TJS)</option>
    <option value="TMT" {% if request.session.preferred_currency == 'TMT' %}selected{% endif %}>Turkmenistani Manat (TMT)</option>
    <option value="TND" {% if request.session.preferred_currency == 'TND' %}selected{% endif %}>Tunisian Dinar (TND)</option>
    <option value="TOP" {% if request.session.preferred_currency == 'TOP' %}selected{% endif %}>Tongan Paʻanga (TOP)</option>
    <option value="TRY" {% if request.session.preferred_currency == 'TRY' %}selected{% endif %}>Turkish Lira (TRY)</option>
    <option value="TTD" {% if request.session.preferred_currency == 'TTD' %}selected{% endif %}>Trinidad and Tobago Dollar (TTD)</option>
    <option value="TWD" {% if request.session.preferred_currency == 'TWD' %}selected{% endif %}>New Taiwan Dollar (TWD)</option>
    <option value="TZS" {% if request.session.preferred_currency == 'TZS' %}selected{% endif %}>Tanzanian Shilling (TZS)</option>
    <option value="UAH" {% if request.session.preferred_currency == 'UAH' %}selected{% endif %}>Ukrainian Hryvnia (UAH)</option>
    <option value="UGX" {% if request.session.preferred_currency == 'UGX' %}selected{% endif %}>Ugandan Shilling (UGX)</option>
    <option value="UYU" {% if request.session.preferred_currency == 'UYU' %}selected{% endif %}>Uruguayan Peso (UYU)</option>
    <option value="UZS" {% if request.session.preferred_currency == 'UZS' %}selected{% endif %}>Uzbekistan Som (UZS)</option>
    <option value="VEF" {% if request.session.preferred_currency == 'VEF' %}selected{% endif %}>Venezuelan Bolívar (VEF)</option>
    <option value="VND" {% if request.session.preferred_currency == 'VND' %}selected{% endif %}>Vietnamese Dong (VND)</option>
    <option value="VUV" {% if request.session.preferred_currency == 'VUV' %}selected{% endif %}>Vanuatu Vatu (VUV)</option>
    <option value="WST" {% if request.session.preferred_currency == 'WST' %}selected{% endif %}>Samoan Tala (WST)</option>
    <option value="XAF" {% if request.session.preferred_currency == 'XAF' %}selected{% endif %}>CFA Franc BEAC (XAF)</option>
    <option value="XAG" {% if request.session.preferred_currency == 'XAG' %}selected{% endif %}>Silver (XAG)</option>
    <option value="XAU" {% if request.session.preferred_currency == 'XAU' %}selected{% endif %}>Gold (XAU)</option>
    <option value="XCD" {% if request.session.preferred_currency == 'XCD' %}selected{% endif %}>East Caribbean Dollar (XCD)</option>
    <option value="XDR" {% if request.session.preferred_currency == 'XDR' %}selected{% endif %}>Special Drawing Rights (XDR)</option>
    <option value="XOF" {% if request.session.preferred_currency == 'XOF' %}selected{% endif %}>CFA Franc BCEAO (XOF)</option>
    <option value="XPF" {% if request.session.preferred_currency == 'XPF' %}selected{% endif %}>CFP Franc (XPF)</option>
    <option value="YER" {% if request.session.preferred_currency == 'YER' %}selected{% endif %}>Yemeni Rial (YER)</option>
    <option value="ZAR" {% if request.session.preferred_currency == 'ZAR' %}selected{% endif %}>South African Rand (ZAR)</option>
    <option value="ZMK" {% if request.session.preferred_currency == 'ZMK' %}selected{% endif %}>Zambian Kwacha (ZMK)</option>
    <option value="ZMW" {% if request.session.preferred_currency == 'ZMW' %}selected{% endif %}>Zambian Kwacha (ZMW)</option>
    <option value="ZWL" {% if request.session.preferred_currency == 'ZWL' %}selected{% endif %}>Zimbabwean Dollar (ZWL)</option>
</select>
        <button type="submit">Update Currency</button>
    </form>
</div>

<style>
    .custom-select {
    width: 100%;
    padding: 12px 16px;
    border: none;
    border-radius: 5px;
    background-color: #3a4060;
    color: #fff;
    font-size: 16px;
    appearance: none; /* Remove default arrow */
    -webkit-appearance: none; /* Safari/Chrome */
    -moz-appearance: none; /* Firefox */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2300d4b4' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    cursor: pointer;
    transition: background-color 0.3s ease;
    /* Ensure this overrides .filters select */
    box-sizing: border-box;
}

.custom-select:hover {
    background-color: #4a5070;
}

.custom-select:focus {
    outline: none;
    box-shadow: 0 0 5px #00d4b4;
    border: 1px solid #00d4b4; /* Add a border for focus visibility */
}

.custom-select option {
    background-color: #2a2f4a;
    color: #fff;
    padding: 10px;
}

.custom-select option:hover {
    background-color: #3a4060;
}

/* Ensure this has higher specificity than .filters select */
.login-container .custom-select {
    margin-bottom: 10px; /* Align with other input elements */
}
</style>

<script>
    function confirmClearRecords() {
        if (confirm("Are you sure you want to clear all records? This action cannot be undone.")) {
            fetch('/clear_records/', {
                method: 'POST',
                headers: {
                    'X-CSRFToken': getCookie('csrftoken'),
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert("Records cleared successfully.");
                    location.reload();
                } else {
                    alert(`Error: ${data.error}`);
                }
            })
            .catch(error => alert(`Failed to clear records: ${error}`));
        }
    }

    // Ensure getCookie function is available (assuming it's in base.html or script.js)
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
</script>
{% endblock %}